Index: src/main/java/controller/OrderServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package controller;\r\n\r\nimport models.model.Customer;\r\nimport models.model.Order;\r\nimport models.model.OrderDetail;\r\nimport models.model.Product;\r\nimport models.repository.IOrderDetailRepository;\r\nimport models.service.ICustomerService;\r\nimport models.service.IOrderDetailSevice;\r\nimport models.service.IOrderService;\r\nimport models.service.IProductService;\r\nimport models.service.impl.CustomerServiceImpl;\r\nimport models.service.impl.OrderDetailServiceImpl;\r\nimport models.service.impl.OrderServiceImpl;\r\nimport models.service.impl.ProductServiceImpl;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport javax.servlet.annotation.*;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = \"OrderServlet\", value = \"/order-servlet\")\r\npublic class OrderServlet extends HttpServlet {\r\n    IOrderService orderService = new OrderServiceImpl();\r\n    ICustomerService customerService = new CustomerServiceImpl();\r\n    IProductService productService = new ProductServiceImpl();\r\n    IOrderDetailSevice orderDetailSevice = new OrderDetailServiceImpl();\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String action = request.getParameter(\"action\");\r\n        List<Product> productList;\r\n        int customerId;\r\n        if (action == null) {\r\n            action = \"\";\r\n        }\r\n        switch (action) {\r\n            case \"create\":\r\n                customerId = Integer.parseInt(request.getParameter(\"customerId\"));\r\n                orderService.addOrder(customerId);\r\n                Customer customer = customerService.getCustomerById(customerId);\r\n                productList = productService.getList();\r\n                request.setAttribute(\"customerId\", customer.getId());\r\n                request.setAttribute(\"productList\", productList);\r\n                request.getRequestDispatcher(\"/users/product.jsp\").forward(request, response);\r\n                break;\r\n            case \"buy\":\r\n                int productId = Integer.parseInt(request.getParameter(\"productId\"));\r\n                customerId = Integer.parseInt(request.getParameter(\"customerId\"));\r\n                int orderId = orderService.getOrderId(customerId);\r\n                Product product = productService.findById(productId);\r\n                request.setAttribute(\"orderId\", orderId);\r\n                request.setAttribute(\"customerId\", customerId);\r\n                request.setAttribute(\"productId\", productId);\r\n                request.setAttribute(\"productType\", product.getProductType());\r\n                request.setAttribute(\"price\", product.getPrice());\r\n                request.getRequestDispatcher(\"/users/create.jsp\").forward(request, response);\r\n                break;\r\n            case \"displayProducts\":\r\n                productList = productService.getList();\r\n                request.setAttribute(\"productList\", productList);\r\n                request.getRequestDispatcher(\"/users/product.jsp\").forward(request, response);\r\n                break;\r\n            case \"orderDetail\":\r\n                    customerId = Integer.parseInt(request.getParameter(\"customerId\"));\r\n                    productList = orderDetailSevice.getOrderDetail(customerId);\r\n                    request.setAttribute(\"productList\",productList);\r\n                    request.getRequestDispatcher(\"/users/order_detail.jsp\").forward(request,response);\r\n                break;\r\n            default:\r\n                List<Order> orderList = orderService.getAll();\r\n                request.setAttribute(\"orderList\", orderList);\r\n                request.getRequestDispatcher(\"/orders/list.jsp\").forward(request, response);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String action = request.getParameter(\"action\");\r\n        if (action == null) {\r\n            action = \"\";\r\n        }\r\n\r\n        switch (action) {\r\n            case \"createOrderDetail\":\r\n                int orderId = Integer.parseInt(request.getParameter(\"orderId\"));\r\n                int customerId = Integer.parseInt(request.getParameter(\"customerId\"));\r\n                int productId = Integer.parseInt(request.getParameter(\"productId\"));\r\n                int productType = Integer.parseInt(request.getParameter(\"productType\"));\r\n                double price = Double.parseDouble(request.getParameter(\"price\"));\r\n                int quantity = Integer.parseInt(request.getParameter(\"quantity\"));\r\n                OrderDetail orderDetail = new OrderDetail(orderId, customerId, productId, productType, price, quantity);\r\n                boolean statusOrderDetail = orderDetailSevice.addOrderDetail(orderDetail);\r\n                List<Product> productList = productService.getList();\r\n                request.setAttribute(\"productList\",productList);\r\n                request.setAttribute(\"customerId\",customerId);\r\n                request.setAttribute(\"statusOrderDetail\",statusOrderDetail);\r\n                request.getRequestDispatcher(\"/users/product.jsp\").forward(request,response);\r\n                break;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/controller/OrderServlet.java b/src/main/java/controller/OrderServlet.java
--- a/src/main/java/controller/OrderServlet.java	(revision 4fbd578a2b4e450baaf6a8491f1ad0b6033ee022)
+++ b/src/main/java/controller/OrderServlet.java	(date 1683894240616)
@@ -12,7 +12,6 @@
 import models.service.impl.CustomerServiceImpl;
 import models.service.impl.OrderDetailServiceImpl;
 import models.service.impl.OrderServiceImpl;
-import models.service.impl.ProductServiceImpl;
 
 import javax.servlet.*;
 import javax.servlet.http.*;
