<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Bài tập] Lập Trình Hướng Đối Tượng(OOP)</title>
</head>

<body>

<div>
    <h1>Phát triển chương trình thể hiện sự tương tác giữa hai đối tượng: công tắc và bóng đèn</h1>
    <button id="switchBtn" onclick="switchButton()">Tắt</button>
    <p id="result"></p>
</div>
<script>

    class ElectricLamp {

        constructor(status) {
            this.status = status;
        }

        getStatus() {
            return this.status;
        }

        turnOn() {
            document.getElementById("result").innerHTML = ("Đèn đang được Bật");
        }

        turnOff() {
            document.getElementById("result").innerHTML = ("Đèn đang được Tắt");

        }
    }

    class SwitchButton {

        constructor(status, lamp) {
            this.status = status;
            this.lamp = lamp;
        }

        getStatus() {
            return this.status;
        }

        setStatus(status) {
            this.status = status;
        }

        connectToLamp(electricLamp) {
            this.lamp = electricLamp;
        }

        switchOn() {
            this.status = true;
            this.lamp.turnOn();
        }

        switchOff() {
            this.status = false;
            this.lamp.turnOff();
        }
    };

    let buttonSwitch = new SwitchButton(false);
    let lamp = new ElectricLamp(false);
    buttonSwitch.connectToLamp(lamp);

    function turnOn() {
        buttonSwitch.switchOn();
    }

    function turnOff() {
        buttonSwitch.switchOff();

    }

    let flag = true;
    function switchButton() {
        const btn = document.getElementById("switchBtn");
        flag ? (turnOn(), flag = false, btn.innerText = "Tắt") : (turnOff(), flag = true, btn.innerText = "Bật");
    }

</script>
<!-- C0123G1-Kiều Quốc Khánh -->
</body>

</html>